(this["webpackJsonpra-hw-10.1-editing"]=this["webpackJsonpra-hw-10.1-editing"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(4),a=n.n(i),o=(n(16),n(17),n(3)),s="ADD_SERVICE",l="ADD_SERVICE_CHANGES",d="REMOVE_SERVICE",u="EDIT_SERVICE",j="END_SERVICE_EDITING",m="CHANGE_SERVICE_FIELD";var b=n(1);var p={onServiceSubmit:function(e,t){return{type:s,payload:{name:e,price:t}}},onChangesSubmit:function(e,t,n){return{type:l,payload:{index:e,name:t,price:n}}},onReset:function(){return{type:j,payload:{}}},onChange:function(e,t){return{type:m,payload:{name:e,value:t}}}},O=Object(o.b)((function(e){return{form:e.form}}),p)((function(e){var t=e.form,n=e.onServiceSubmit,r=e.onChangesSubmit,c=e.onReset,i=e.onChange;function a(e){var t=e.target,n=t.name,r=t.value;i(n,r)}return Object(b.jsxs)("form",{className:"Form",onSubmit:function(e){e.preventDefault();var i=t.name,a=t.price;if(t.editingMode.state){var o=t.editingMode.index;r(o,i,a),c()}else n(i,a)},onReset:function(e){e.preventDefault(),c()},children:[Object(b.jsxs)("div",{className:"Form-control",children:[Object(b.jsx)("label",{htmlFor:"name",children:"\u0423\u0441\u043b\u0443\u0433\u0430"}),Object(b.jsx)("input",{className:"Form-control__name",type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:a,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0417\u0430\u043c\u0435\u043d\u0430...",autoComplete:"off"})]}),Object(b.jsxs)("div",{className:"Form-control",children:[Object(b.jsx)("label",{htmlFor:"price",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c (\u0440\u0443\u0431.)"}),Object(b.jsx)("input",{className:"Form-control__price",type:"number",id:"price",name:"price",min:"1",max:"999999",required:!0,value:t.price,onChange:a,onFocus:function(e){return e.target.select()}})]}),Object(b.jsx)("input",{className:"Form-control__button-save",type:"submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),t.editingMode.state&&Object(b.jsx)("input",{className:"Form-control__button-reset",type:"reset",value:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})}));n(25),n(26);function h(e){var t=e.id,n=e.name,r=e.price,c=e.onDeleteClick,i=e.onEditClick;return Object(b.jsxs)("tr",{className:"TableRow",id:t,children:[Object(b.jsx)("td",{children:n}),Object(b.jsx)("td",{children:r}),Object(b.jsxs)("td",{children:[Object(b.jsx)("a",{className:"TableRow-control__edit",href:"#0",onClick:i,children:"\u270e"}),Object(b.jsx)("a",{className:"TableRow-control__delete",href:"#0",onClick:c,children:"\u2718"})]})]})}var f={onRemove:function(e){return{type:d,payload:{id:e}}},onEdit:function(e,t,n){return{type:u,payload:{name:e,price:t,editingMode:n}}}},v=Object(o.b)((function(e){return{services:e.list}}),f)((function(e){var t=e.services,n=e.onRemove,r=e.onEdit;return Object(b.jsxs)("table",{className:"Table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"\u0423\u0441\u043b\u0443\u0433\u0430"}),Object(b.jsx)("th",{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c (\u0440\u0443\u0431.)"}),Object(b.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),Object(b.jsx)("tbody",{children:t.map((function(e){var c=e.id,i=e.name,a=e.price;return Object(b.jsx)(h,{id:c,name:i,price:a,onDeleteClick:function(){return function(e){return n(e)}(c)},onEditClick:function(){return function(e){var n=t.findIndex((function(t){return t.id===e})),c=t[n],i=c.name,a=c.price;return r(i,a,{state:!0,index:n})}(c)}},c)}))})]})}));var x=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{}),Object(b.jsx)(v,{})]})},E=n(9),_=n(5),y=n(2),C={name:"",price:0,editingMode:{state:!1,index:""}};var N=n(6),g=n(11),S=[{id:"76OOH7xQPaqkVY6WJhpJ5",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0441\u0442\u0435\u043a\u043b\u0430",price:21e3},{id:"Vmii-9M7fj9C6LpjSx1Eh",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0434\u0438\u0441\u043f\u043b\u0435\u044f",price:25e3},{id:"WJ0HT1M9kA-IeAcSq6Quu",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u0430\u043a\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440\u0430",price:4e3},{id:"G5RdV1pOqHALXLT8hY1Oa",name:"\u0417\u0430\u043c\u0435\u043d\u0430 \u043c\u0438\u043a\u0440\u043e\u0444\u043e\u043d\u0430",price:2500}];var R=Object(E.a)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n=t.payload.name,r=Number(t.payload.value)||t.payload.value;return Object(y.a)(Object(y.a)({},e),{},Object(_.a)({},n,r));case u:return Object(y.a)(Object(y.a)({},e),t.payload);case j:return C;default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,n=Object(y.a)({},t.payload),r=n.index,c=n.id,i=n.name,a=n.price;switch(t.type){case s:return[].concat(Object(N.a)(e),[{id:Object(g.a)(),name:i,price:Number(a)}]);case l:var o=[].concat(Object(N.a)(e.slice(0,r)),[{id:e[r].id,name:i,price:Number(a)}],Object(N.a)(e.slice(r+1)));return o;case d:return e.filter((function(e){return e.id!==c}));default:return e}}}),D=Object(E.b)(R,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(o.a,{store:D,children:Object(b.jsx)(x,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.acac049d.chunk.js.map